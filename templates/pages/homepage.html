{% extends 'base.html' %}
{% load static humanize pages_extras %}

{% block title %}{% endblock title %}

{% block content %}
<!-- HomePage banner -->
{% get_section_featured_image homepage as formats %}

<div class="flex bg-slate-900 justify-around w-full img-fluid bg-no-repeat bg-center bg-cover"
  style="background-image: url({% if homepage.banner_image %}{{ formats.jpeg }}{% else %}{% static 'img/apt-img-11.jpg' %}{% endif %}); height: 600px">

  <div class="self-center flex flex-col w-full lg:w-11/12 xl:w-4/5 2xl:w-3/5 py-5">
    <div class="text-white text-center px-2">
      <h1 class="font-black text-3xl sm:text-4xl md:text-5xl lg:text-6xl">
        {% if homepage.banner_heading_text %}
          {{ homepage.banner_heading_text }}
        {% else %}
          Discover your future home with IsotachGlobal
        {% endif %}
      </h1>
      <p class="text-base md:text-lg lg:text-2xl font-light pt-3">
        {% if homepage.banner_sub_heading_text %}
          {{ homepage.banner_sub_heading_text }}
        {% else %}
         Search for your new home right here
        {% endif %}
      </p>
    </div>

    <div class="mt-10 px-5 font-mono">

      <form action="{% url 'apartments:list-apartments' %}" method="get" class="mt-5">
        <div
          class="flex flex-col md:flex-row md:space-x-4 lg:space-x-0 space-y-3 md:space-y-0 text-base uppercase font-bold justify-between">
          <!-- Add filters here -->

          <!-- Beds -->
          <div class="flex">
            <label for="id_bedrooms" class="banner-form-label">Beds <i class="fa-solid fa-bed text-fuchsia-600"></i></label>
            <select name="bedrooms" id="id_bedrooms" class="banner-select-field">
              <option selected="" value="">----</option>
              <option value="1">1+</option>
              <option value="2">2+</option>
              <option value="3">3+</option>
              <option value="4">4+</option>
              <option value="5">5+</option>
              <option value="6">6+</option>
              <option value="7">7+</option>
              <option value="8">8+</option>
              <option value="9">9+</option>
              <option value="10">10+</option>
            </select>
          </div>

          <!-- Baths -->
          <div class="flex">
            <label for="id_baths" class="banner-form-label">Baths <i class="fa-solid fa-bath text-sky-500"></i></label>
            <select name="baths" id="id_baths" class="banner-select-field">
              <option selected="" value="">----</option>
              <option value="1">1+</option>
              <option value="2">2+</option>
              <option value="3">3+</option>
              <option value="4">4+</option>
              <option value="5">5+</option>
              <option value="6">6+</option>
              <option value="7">7+</option>
              <option value="8">8+</option>
              <option value="9">9+</option>
              <option value="10">10+</option>
            </select>
          </div>

          <!-- Min Price -->
          <div class="flex">
            <label for="id_monthly_rent_payment__gt" class="banner-form-label">Min Price <i
                class="fa-solid fa-money-bill-wave text-green-800"></i></label>
            <select id="id_monthly_rent_payment__gt" name="monthly_rent_payment__gt" class="banner-select-field">
              <option selected="" value="">----</option>
              <option value="100">Ghc 100.00</option>
              <option value="300">Ghc 300.00</option>
              <option value="500">Ghc 500.00</option>
              <option value="700">Ghc 700.00</option>
              <option value="1000">Ghc 1000.00</option>
              <option value="1200">Ghc 1200.00</option>
              <option value="1400">Ghc 1400.00</option>
              <option value="1600">Ghc 1600.00</option>
              <option value="1800">Ghc 1800.00</option>
              <option value="2000">Ghc 2000.00</option>
              <option value="2500">Ghc 2500.00</option>
              <option value="3000">Ghc 3000.00</option>
              <option value="3500">Ghc 3500.00</option>
              <option value="4000">Ghc 4000.00</option>
              <option value="4500">Ghc 4500.00</option>
            </select>
          </div>

          <!-- Max Price -->
          <div class="flex">
            <label for="id="id_monthly_rent_payment__lt"" class="banner-form-label">Max Price <i
                class="fa-solid fa-money-bill-wave text-green-800"></i></label>
            <select id="id_monthly_rent_payment__lt" name="monthly_rent_payment__lt" class="banner-select-field">
              <option selected="" value="">----</option>
              <option value="100">Ghc 100.00</option>
              <option value="300">Ghc 300.00</option>
              <option value="500">Ghc 500.00</option>
              <option value="700">Ghc 700.00</option>
              <option value="1000">Ghc 1000.00</option>
              <option value="1200">Ghc 1200.00</option>
              <option value="1400">Ghc 1400.00</option>
              <option value="1600">Ghc 1600.00</option>
              <option value="1800">Ghc 1800.00</option>
              <option value="2000">Ghc 2000.00</option>
              <option value="2500">Ghc 2500.00</option>
              <option value="3000">Ghc 3000.00</option>
              <option value="3500">Ghc 3500.00</option>
              <option value="4000">Ghc 4000.00</option>
              <option value="4500">Ghc 4500.00</option>
            </select>
          </div>

        </div>

        <div class="flex flex-col md:flex-row mt-5">
          <input type="text" id="id_location" name="location"
            class="w-full md:w-4/5 py-4 px-2 md:px-4 appearance-none focus:outline-none focus:border-2 focus:border-pink-600 shadow-md shadow-gray-800"
            placeholder="City, Town, Neighborhood ..." />
          <button type="submit"
            class="md:w-1/5 py-3 px-2 bg-red-600 font-bold text-center text-white text-base mt-2 md:mt-0">
            <span class="mr-2">search</span><i class="fa-solid fa-search text-xl text-gray-300"></i>
          </button>
        </div>
      </form>

    </div>
  </div>

</div>

<!-- Listings -->
<section class="px-5 md:px-14 lg:px-20 mb-10">

  {% if featured_apartments %}
    <!-- Featured Listings -->
    <div>
      <h1 class="text-xl md:text-3xl font-bold mt-8 md:mt-10 pb-2 text-slate-900">Our Top Featured Apartment Listings</h1>
      <a href="{% url 'apartments:list-apartments' %}" class="link-1">
        <i class="fa-solid fa-eye text-slate-900"></i> View all listings
      </a>

      {% include "apartments/apartment-listings.html" with apartments=featured_apartments %}

    </div>
  {% else %}
    <h2 class="text-slate-900 text-lg text-center">No featured apartments</h2>
  {% endif %}

  <!-- Latest Listings -->
  {% if latest_apartments %}
    <div class="mt-5">
      <h1 class="text-xl md:text-2xl font-bold mt-8 md:mt-10 pb-2 text-slate-900">Our Latest Apartment Listings</h1>
      <a href="{% url 'apartments:list-apartments' %}" class="link-1">
        <i class="fa-solid fa-eye text-slate-900"></i> View all listings
      </a>

      {% include "apartments/apartment-listings.html" with apartments=latest_apartments %}

    </div>
  {% else %}
    <h2 class="text-slate-900 text-lg text-center">No latest apartments</h2>
  {% endif %}

</section>

<!-- The About Us Message -->
{% if homepage.about_section %}

<section class="px-5 md:px-14 lg:px-20 my-24 md:my-40" id="about-us">
  {% get_section_featured_image homepage.about_section.first as formats %}
  <h1 class="section-heading">{{homepage.about_section.first.name}}</h1>
  <div class="flex flex-col lg:flex-row">
    <picture class="lg:w-1/2">
      <source class="" srcset="{{ formats.jpg }}" type="image/jpeg">
      <img class="object-contain" src="{{ formats.jpg }}" alt="About us featured image" />
    </picture>
    <div class="section-text">
      {{ homepage.about_section.first.about_company }}</div>
  </div>
</section>

{% endif %}

<!-- Our Services Section -->
{% if homepage.services_section %}

<section class="px-5 md:px-14 lg:px-20 mb-24 md:mb-40" id="services">
  {% get_section_featured_image homepage.services_section.first as formats %}
  <h1 class="section-heading">{{ homepage.services_section.first.name }}</h1>
  <div class="flex flex-col lg:flex-row-reverse">
    <picture class="lg:w-1/2">
      <source class="" srcset="{{ formats.jpg }}" type="image/jpeg">
      <img class="" src="{{ formats.jpg }}" alt="Services featured image" />
    </picture>
    <div class="section-text">
      {{ homepage.services_section.first.description }}</div>
  </div>
</section>

{% endif %}


<section class="md:px-14 lg:px-20 my-24 md:my-40 flex flex-col-reverse lg:flex-row">

  <!-- Google Maps -->
  <div class="lg:w-1/2 mt-24 md:mt-40 lg:my-0">
    <h1 class="section-heading">Location</h1>

    <div class="w-full h-screen lg:h-4/5">
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15851.631430239197!2d-1.5656912720886256!3d6.658341372969383!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xfdb93642c30f037%3A0x7dcf1933bac0899c!2sKotei%2C%20Kumasi!5e0!3m2!1sen!2sgh!4v1641421911100!5m2!1sen!2sgh"
        width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
    </div>
  </div>

  <!-- Contact Form -->
  <div class="lg:w-1/2" id="contact-us">
    <h1 class="section-heading">
      Talk to Us</h1>

    <div class="h-3/5 w-full px-5 md:px-14 lg:px-20">
      <form action="#" method="post" class="space-y-5">

        <div class="flex flex-col md:flex-row space-y-5 md:space-y-0 md:space-x-5">
          <div class="md:w-1/2">
            <input class="contact-form-input" type="text" name="full_name" id="full_name"
              placeholder="Your Full Name" />
          </div>

          <div class="md:w-1/2">
            <input class="contact-form-input" list="cities" type="text" name="city" id="city"
              placeholder="Your City, or Town" />
            <datalist id="cities">
              <option value="Accra">Accra</option>
              <option value="Kasoa">Kasoa</option>
              <option value="Kumasi">Kumasi</option>
              <option value="Takoradi">Takoradi</option>
              <option value="Cape Coast">Cape Coast</option>
              <option value="Ho">Ho</option>
              <option value="Tema">Tema</option>
            </datalist>
          </div>
        </div>

        <div class="flex flex-col md:flex-row space-y-5 md:space-y-0 md:space-x-5">
          <div class="md:w-1/2">
            <input class="contact-form-input" type="text" name="phone" id="phone" placeholder="Your Phone" />
          </div>
          <div class="md:w-1/2">
            <input class="contact-form-input" type="email" name="email" id="email" placeholder="Your Email Address">
          </div>
        </div>

        <div>
          <textarea class="contact-form-input" name="message" id="message" cols="20" rows="5"
            placeholder="Type your message here"></textarea>
        </div>

        <button type="submit" class="red-btn-1">Send Message <i
            class="fa-solid fa-location-arrow"></i></button>
      </form>
    </div>

  </div>
</section>

<!-- Freqeuntly Asked Questions -->
{% if homepage.frequently_asked_questions %}

<section class="px-5 md:px-14 mb-24 md:mb-40 lg:px-20" id="faq">
  <h1 class="section-heading">Frequently Asked Questions</h1>

  <div class="">
    {% for faq in homepage.frequently_asked_questions.all %}
    <details class="mt-5" {% if forloop.counter0 == 0 %}open{% endif %}>
      <summary class="faq-summary">
        {{ faq.question }}</summary>
      <p class="text-sm md:text-base lg:text-lg px-5 mt-1">{{faq.answer}}</p>
    </details>
  </div>

  {% endfor %}
</section>

{% endif %}

{% endblock content %}